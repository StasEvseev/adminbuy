<section class="invoice">
    <form name="myForm.item">
        <!-- title row -->
        <div class="row">
            <div class="col-xs-12">
                <h2 class="page-header">
                    <i class="fa fa-globe"></i> [[nameInvoice]]
                    <!--<small class="pull-right">Дата: [[ item.date | date:'d MMM y' ]]</small>-->
                </h2>
            </div>
            <!-- /.col -->
        </div>
        <!-- info row -->
        <div class="row invoice-info">
            <div class="col-sm-5 invoice-col">


                <div class="form-group">
                    <label>Дата накладной</label>

                    <div class="input-group">

                        <div ng-click="open($event)" class="input-group-addon">
                            <i class="fa fa-calendar"></i>
                        </div>

                        <input type="text" class="form-control"
                               datepicker-popup="yyyy-MM-dd"
                               name="date"
                               ng-model="model.date"
                               is-open="status.opened"
                               min-date="minDate"
                               max-date="'2020-06-22'"
                               datepicker-options="dateOptions"
                               date-disabled="disabled(date, mode)"
                               ng-required="true"
                               close-text="Закрыть" />


                        <!--<input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" name="date"
                               ng-model="model.date" is-open="opened"
                               min-date="minDate" max-date="'2018-09-30'"
                               datepicker-options="dateOptions"
                               date-disabled="disabled(date, mode)" ng-required="true"
                               close-text="Закрыть"/>-->
                    </div>
                </div>
            </div>
            <!-- /.col -->
            <div class="col-sm-5 invoice-col">

                <div class="form-group">
                    <label for="typeRec">Тип получателя</label>

                    <div id="typeRec">
                        <label>
                            <input type="radio" ng-model="model.typeRec" value="1" name="r3" />
                            Торговая точка
                        </label><br/>
                        <label>
                            <input type="radio" ng-model="model.typeRec" value="2" name="r3" />
                            Оптовик
                        </label>
                    </div>
                </div>
            </div>
            <!-- /.col -->
            <div class="col-sm-2 invoice-col">

                <div class="form-group">
                    <label for="type">Тип накладной</label>

                    <div id="type">
                        <label>
                            <input type="radio" ng-model="model.type" value="1" name="r2" />
                            <span>Оптовая</span>
                        </label><br/>
                        <label>
                            <input type="radio" ng-model="model.type" value="2" name="r2" />
                            Розничная
                        </label>
                    </div>
                </div>
            </div>
            <!-- /.col -->
        </div>
        <!-- /.row -->

        <div class="row invoice-info">

            <div class="col-sm-5 invoice-col">
                <div class="form-group">
                    <label for="exampleInputPassword1">Торговая точка отправитель</label>


                    <dict-select-field
                            ng-model="model.pointSource"
                            service="PointService"
                            lazy="true"
                            select="model.pointsale_from_id"

                            style="width: 100%">
                        <dict-select-field-match placeholder="Введите название...">[[$select.selected.name]]</dict-select-field-match>
                        <dict-select-field-choices repeat="item in $items | propsFilter: {name: $select.search}">
                            <div ng-bind-html="item.name | highlight: $select.search"></div>
                        </dict-select-field-choices>
                    </dict-select-field>

                </div>
                <address>
                    Адрес: [[model.pointSource.address]]
                </address>
            </div>

            <div ng-show="model.typeRec == 2" class="col-sm-5 invoice-col">
                <div class="form-group">
                    <label for="exampleInputPassword1">Оптовик</label>

                    <dict-select-field
                            ng-model="model.Receiver"
                            service="ReceiverService"
                            lazy="true"
                            select="model.receiver_id"

                            style="width: 100%">
                        <dict-select-field-match placeholder="Введите имя...">[[$select.selected.fullname]]</dict-select-field-match>
                        <dict-select-field-choices repeat="item in $items | propsFilter: {fullname: $select.search}">
                            <div ng-bind-html="item.fullname | highlight: $select.search"></div>
                        </dict-select-field-choices>
                    </dict-select-field>
                </div>
                <address>
                    Адрес: [[model.receiver.address]]
                </address>
            </div>

            <div ng-show="model.typeRec == 1" class="col-sm-5 invoice-col">
                <div class="form-group">
                    <label for="exampleInputPassword1">Торговая точка получатель</label>

                    <dict-select-field
                            ng-model="model.pointReceiver"
                            service="PointService"
                            lazy="true"
                            select="model.pointsale_id"

                            style="width: 100%">
                        <dict-select-field-match placeholder="Введите название...">[[$select.selected.name]]</dict-select-field-match>
                        <dict-select-field-choices repeat="item in $items | propsFilter: {name: $select.search}">
                            <div ng-bind-html="item.name | highlight: $select.search"></div>
                        </dict-select-field-choices>
                    </dict-select-field>
                </div>
                <address>
                    Адрес: [[model.pointReceiver.address]]
                </address>
            </div>
        </div>

        <!-- Table row -->
        <div class="row">
            <div class="col-xs-12 table-responsive">
                <table class="table table-striped">
                    <thead>
                    <tr header-fixed-scroll style="background-color: brown">
                        <th>Наименование</th>
                        <th>Кол-во</th>
                        <th>Цена</th>
                        <th>Сумма</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="row in items">
                        <td>[[ row.good.full_name ]]</td>
                        <td>[[ row.count ]]</td>
                        <td>[[ row.good.price.price_retail ]] руб.</td>
                        <td>[[ row.count * row.good.price.price_retail ]]</td>
                    </tr>
                    <tr>
                        <td colspan="4">
                            <a style="cursor: pointer" ng-click="openWindowSelect()">
                                <span style="color: #00a65a; border-bottom: 1px dotted">
                                    Добавить из накладной
                                </span>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- /.col -->
        </div>
    </form>
</section>